<!DOCTYPE html>
<html lang="{{ craft.app.language }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block page_title_wrap %}{% block page_title %}{% endblock %}{{ siteInformation.companyName }}{% endblock %}</title>

    {% block head %}
        {{ craft.vite.script("public/js/src/public.js", false, { 'defer' : true }) }}
    {% endblock %}

    {% block favicons %}
        {% include '_includes/_favicons.twig' %}
    {% endblock %}

    {% block analytics %}
        {% if craft.app.config.custom.gaTrackingId %}
            <script async src="https://www.googletagmanager.com/gtag/js?id={{ craft.app.config.custom.gaTrackingId }}"></script>
            <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', '{{ craft.app.config.custom.gaTrackingId }}');
            </script>
        {% endif %}
    {% endblock %}
</head>
<body{% if body_attributes is defined %}{{ body_attributes }}{% endif %}>
<div>
    {% block body %}
        {% block header %}
            <header>
                <div class="flex flex-wrap justify-between items-center w-content">
                    <a href="/">
                        <img src="/images/logo.svg" fetchPriority="high" width="150" height="154" alt="{{ siteInformation.companyName }}">
                    </a>

                    {% set menuButton = {} %}
                    {% if menus.mainMenuButton %}
                        {% set menuButton = { 'label': menus.mainMenuButton.label, 'value': menus.mainMenuButton.value } %}
                    {% endif %}

                    <ul id="menu"
                        class="pl-0"
                        data-items="{{ menu(menus.menuHeader.all())|json_encode }}"
                        data-menu-button="{{ menuButton|json_encode }}">
                        {# display a basic menu so there's something if JS fails or for SEO #}
                        {% for menuItem in menus.menuHeader.all() %}
                            <li>
                                <a href="{{ menuItem.menuLink.value }}">{{ menuItem.menuLink.label }}</a>
                            </li>
                        {% endfor %}
                    </ul>

                    {% if menus.mainMenuButton %}
                        <a href="{{ menus.mainMenuButton.value }}" class="button hidden">{{ menus.mainMenuButton.label }}</a>
                    {% endif %}

                    {% include '_includes/_social_media.twig' %}
                </div>
            </header>
        {% endblock header %}

        {% block content_wrap %}
            <main>
                {% block content %}
                {% endblock content %}
            </main>
        {% endblock content_wrap %}

        {% block footer %}
            <footer class="footer">
                {% include '_includes/_social_media.twig' %}

                <div class="text-sm">
                    Â©{{ 'now'|date('Y') }} {{ siteInformation.companyName }} All Rights Reserved.
                </div>
            </footer>
        {% endblock footer %}
    {% endblock body %}
</div>

{% block javascripts %}
    {% if craft.vite.devServerRunning() %}
        <script defer src="/js/svgxuse.min.js"></script>
    {% endif %}
{% endblock %}
</body>
</html>

